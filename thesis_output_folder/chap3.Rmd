---
output: pdf_document
header-includes:
- \usepackage{graphicx,latexsym}
- \usepackage{amssymb,amsthm,amsmath}
- \usepackage{longtable,booktabs,setspace}
---

# Case Selection, Data, Model Parametrization
   
In this chapter, I will first go through a description of the state of Colorado; its demographics, its politics, and its selection for the purposes of this thesis. I will then go through the sources and wrangling of the data I obtained on Colorado's elections. Finally, I will fully define the models I will be using to test the hypotheses outlined in the previous chapter.

## The Centennial State and Its Voters  

### Demographics
   
Colorado--named the Centennial State due to assuming statehood on the centennial of the Union--lies in the Southwestern United States, with its Western half squarely atop the Rocky Mountains. Based on its estimated population of just over 5.5 million, Colorado is the 21st most populous state, and ranks 37th in population density. The vast majority of that population is gathered in a series of urban areas that comprise a North-to-South strip in the middle of the state, containing the Denver-Aurora-Lakewood Metro Area, Colorado Springs, Pueblo, and Fort Collins. Apart from the Western town of Grand Junction, the rest of the population resides in vast rural areas.   
  
```{r white pct map, echo=FALSE, fig.cap="White voters per Colorado county", out.width = '50%', fig.align='center'}
knitr::include_graphics("/Users/tdounias/Desktop/Reed_Senior_Thesis/maps/pct_white_county_map.png")
```
  
Colorado is landlocked, and far from any coastal town; in place of seaside resorts, Colorado attracts a substantial amount of tourists to its mountains every year. Therefore the more mountainous regions have developed skiing and mountaineering resorts. They also heavily depend on federal money and protection for national parks. 
  
Continuing with demographic characteristics, Colorado has a median age of 34.3 and median household income of $65,685. Colorado's population is mostly white, with a higher minority group population density in its Southern regions, as shown in figure 3.1. [@us_census_bureau_us_2010]
   
The State Capital is Denver. Colorado is split into 64 Counties, of which the most populous are, in no particular order, the following:  El Paso, Denver, Arapahoe, Jefferson, Adams, Larimer, Boulder, and Douglas. These counties comprise 73% of the total population of Colorado.  

-------------------------------------------------------------------------------
  County     Total Population   CO Population %        Largest Metro Area      
----------- ------------------ ----------------- ------------------------------
   Adams          441603            0.08781       Denver-Aurora-Lakewood Metro 
                                                              Area             

 Arapahoe         572003            0.1137        Denver-Aurora-Lakewood Metro 
                                                              Area             

  Boulder         294567            0.05857                 Boulder            

  Denver          600158            0.1193                   Denver            

  Douglas         285465            0.05676       Denver-Aurora-Lakewood Metro 
                                                              Area             

  El Paso         622263            0.1237              Colorado Springs       

 Jefferson        534543            0.1063        Denver-Aurora-Lakewood Metro 
                                                              Area             

  Larimer         299630            0.05958               Fort Collins         

   Other         1378964            0.2742                                     

 Colorado        5029196              100                                      
-------------------------------------------------------------------------------
Table: Colorado population for largest counties \label{tab:pop_table}

### The Politics of Colorado

Curtis Martin (1962) notes that Colorado, due to its status as a frontier state, has always been fiercly democratic and independent. He connects this fact with Colorado's past, by pointing out that its political institutions were deeply rooted in mining culture, ordinary citizens' participation,a strong feeling of being "far away" from sources of centralized power in the coasts, and a wish for the protection and preservation of Colorado's natural environment. As such, Colorado can be described as a populist state with a strong libertarian streak, that highly values democratic processes when they serve the people or protect and fund national parks, but staunchly opposes state intervention when it is unwaranted. [@martin_colorado_1962]

\clearpage
  
This 1964 study of Colorado politics rings true to this day. One needs not search for long to see instances when Colorado honored this description. One example is TABOR, or the Taxpayer's Bill of Rights; a strongly libertarian, small-government, populist series of regulations that mandated a referendum for any measure that would increase state taxes, and caped gobernment spending. TABOR was passed by referendum in 1992, and later ammended in 2005 after the dot com economic crisis exposed the fact that inability to spend is very bad for a state government trying to jump start its economy. [@colorado_general_assembly_tabor_nodate]   
  
Similarly, Amendment 64 passed in 2012 made Colorado one of the first states to legalize the selling, possession, and consumption of recreational marijuana--a policy advocated by progressives and libertarians alike. Colorado was also the staging ground for what has been coined the "Sagebrush Rebellion": a movement primarily consisting on ranchers in dispute with the federal government over land use laws and wildlife protection. While this "rebellion" primarily consisted of battles in local legislatures or elections in the 1970s, its echoes can be heard till today in events like the Bundy Standoff, with ranchers taking up arms against federal employees and occupying federal land [@thompson_first_2016]. 
  
Setting policy aside, this description of Colorado is also confirmed by polling data and election results. While being traditionally more conservative, inflows of immigration from the South coupled with increasing urban liberalization and tourism has led the state from leaning republican to being aggressivelly purple: the quinessential swing state. Colorado voted both for and later against Bill Clinton, voted for G.W. Bush twice, and has supported democratic presidential candidates since [@hamm_how_2017]. The trend is also, maybe surprisingly, consistent when considering both rural and urban voters; the divide that is said to plague other states seems to have passed by Colorado. Additionally, when polled on trust of federal or local governments, Colorado residents are systematically sceptical; in a random sample poll conducted by Cronin and Loevy (2012) in 2010, 56% stated that their state officials were lazy, wasteful, and inefficient. However--again indicating a libertarian, independent streak--most Coloradoans from 1988 to today consistently believe that their state is "on the right track" ^[Colorado College Citizens Polls, taken from Cronin et al. [@cronin_colorado_2012]].

### Voting in Colorado  
    
Each County individually administrates local, coordinated, primary, and general elections, under the supervision of the Colorado Secretary of State. This means that each county individually handles the voters registered in that county. Unsurprisingly, the same eight most populous counties are also the counties with the majority of registered voters, as their registrants comprise 73% of total Colorado registered voters (as of November 2017). As table 3.2 shows, these eight counties have a registration rate between 60-80%, compared to a Colorado-wide rate of about 67%. Registration rates for all counties are also graphically depicted in figure 3.2. In terms of Party registration, Colorado as a whole leans democratic by a very narrow margin (figure 3.3). 

-------------------------------------------------------------------------------------------------------------  
 County       Total Registered Voters       County Voter Registration Rate      % of Statewide Registrants 
------------ ----------------------------- ------------------------------------ --------------------------------
  Adams            270,303                             0.61                                0.07
  
  Arapahoe         410,546                             0.72                                0.11
  
  Boulder          237,091                             0.80                                0.06
  
  Denver           450,616                             0.75                                0.12
  
  Douglas          237,659                             0.83                                0.06
  
  El Paso          445,708                             0.71                                0.12
  
  Jefferson        422,362                             0.79                                0.11
  
  Larimer          250,626                             0.84                                0.06
  
  Other          1,009,392                             ---                                 0.27
  
  Colorado       3,734,303                             0.67                                1.00
------------- ----------------------------- ------------------------------------ --------------------------------
Table: Colorado voter registration for largest counties \label{tab:voter_reg}

```{r reg per county map, echo=FALSE, fig.cap="Registration rates per Colorado county", out.width = '50%', fig.align='center'}
knitr::include_graphics("/Users/tdounias/Desktop/Reed_Senior_Thesis/maps/pct_registered_county_map.png")
```

```{r party reg per county map, echo=FALSE, fig.cap="Democratic/Republican party lean per Colorado county", out.width = '50%', fig.align='center'}
knitr::include_graphics("/Users/tdounias/Desktop/Reed_Senior_Thesis/maps/party_affiliation_county_map.png")
```
   
In the past 25 years, there have been a series of key changes in the way Colorado administers elections, in relation to Vote By Mail and other reforms targeted and expanding the democratic franchise. In 1992, Colorado introduced no-excuse absentee voting, allowing voters to either physically pick up a mail ballot at a Vote Center or County Office, or have a ballot mailed to them prior to election day. In 2008, this reform was expanded to a permanent Vote-By-Mail system, which gave voters the option to be permanently put on a list of addresses that received mail ballots prior to the election. The State also entered a transitional status to full mail elections, giving counties the option to make all coordinated local elections, general elections, and primary elections exclusively VBM. In 2013, the Colorado State Legislature passed HB13-1303: The Voter Access and Modernized Elections Act, which mandated that every voter currently registered receive a mail ballot for all future elections. The Act also expanded the use of Vote Centers instead of traditional polling places, instituted same-day voter registration, and revamped the way active and inactive voter status was designated on voter rolls--more on this in future sections. These changes are summarised in Table 3.3.
  

-------------------------------------------------------------------------------------------------------------
  Year             Key Changes                                                                                                   
------- -----------------------------------------------------------------------------------------------------
  1992             No Excuse Absentee Statewide Implementation                                                                   
  
  2008             Permanent No-Excuse VBM Lists, Option of Full-VBM Elections                                                   
  
  2013             Automatic Mail Ballot System Implemented Statewide, Established Vote Centers  
------- -----------------------------------------------------------------------------------------------------
Table: Key changes to Colorado elections policy \label{tab:elect_policy}
    
### Colorado as a Case for this Thesis

Colorado presents such an interesting case for research on Vote By Mail exactly because it has gone through such a long transitional process to reach its current elections system. It has steadily developed voting policy through a mixture of state mandates, county action, and outside policy motivations. Colorado's streak of independence and direct democracy is also very apparent in this shift in electoral practices, since they have been passing policies trying to expand participation for a very long time. It gives researchers access to approximatelly 22 years during which at least part of the state conducted elections partially by mail, making comparative, county- or individual- level case studies particularly alluring. Colorado's streak of independence and direct democracy is also very apparent in this shift in electoral practices, since they have been passing policies trying to expand participation for a very long time.  
   
On a more general level, Colorado is interesting exactly because it is "typical" but with a wild streak. It is typical rocky mountain country, great planes country, and liberal urban city but all *in one state*. In is libertarian yet increasigly Democratic. It heavily relies on state funding for national parks, yet rebells against federal land use laws. It is a frontier state with traditional values, that overwhelmingly supports marijuana legalization. It is also a consistent purple state, with a Democratic Governor and House, but Republican Attorney General, Secretary of State and senate. This means that Colorado is a combination of distinct national effects, but also local effects that make it significantly different from national trends as a whole. In this environment, predicting results of policy can be difficult, but extremelly salient as multiple effects can be tested against each other.  
  
## Acquiring the Data  

This thesis relies on county and individual level models to draw conclusions on voting behaviours, and how they are affected by voting method. As such, the data I need will optimally contain the following:

* **County and individual level demographic characteristics**: race, gender, urban population
  
* **County and individual level voting data**: turnout, party registration, total registrants
  
* **Information on individual elections**: date, ballots cast, voting methods, county, election descriptions
  
In the process of my research, I have acquired sufficient data to cover the second and third of these areas. I was unable to procure individual level data on demographic characteristics apart from gender, age, and party registration. However, reasonable conclusions can still be drawn from county or precinct aggregates.
  
### Sources and first glance
  
I used two sources of data: Colorado voter records procured from the Colorado Secretary of State's office, and demographic data from the 2010 US Census. In the process of procuring these data I was aided by a series of other researchers and professionals with experience in the field of elections administration; they are mentioned in my acknowledgements.

#### 2010 US Census
   
The US Census is conducted country-wode every ten years, with the goal of procuring accurate data on the demographic characteristics of the population. The Census uses a combination of federal field workers conducting door-to-door canvassing and statistical methods for data aggregation. From the 2010 Census--which is publically available online--I get total population counts, characteristics on race, and rural/urban population counts for Colorado.  

I use two datasets from the Census. For both, the unit of observation is one of the 64 counties of Colorado, and both include the same total population counts. One contains racial demographic characteristics and the other contain percentages of rural and urban populations in each county. The racial demographic dataset needed some wrangling work to extract a percentage of white residents in each county. Individuals were coded as "white" when they identified as exclusivelly white--this doesn't include mixed-race individuals reporting white ancestry.
   
#### Colorado Voter Files

As any state, Colorado maintains a statewide registry of all currently registered voters. This registry is typically under the purview of the Secretary of State--in this case, Wayne W. Williams. Voter Registration Files are constantly updated with new information on existing voters, new voters, or with the removal of inactive or otherwise ineligible voters. Therefore, this file will be different every time it is accessed or shared. Based on when this file is accessed, only a "snapshot" of the file can be obtained. I have managed to procure "snapshots" for each year between 2012 and 2017.  

Similarly with VRFs, a Voter History File is maintained and constantly updated by the state. This file is uniquelly connected to its VRF: only voters showing up as registrants will have their histories included. I have similarly procured "snapshots" of the Voter History File for the years between 2012 and 2017.

In the Voter Registration files, the unit of observation is the individual voter, and all variables are initially coded as character strings. Each voter is assigned a unique voter ID, which serves as a point of refference between the two files. Broadly speaking, data in this file can be divided between three categories: first, personal identification information like address, ZIP code, or phone number; second, demographic information like age and gender; third, information pertinent to elections administration like congressional district, local elections for which the individual should receive a ballot, voter ID, and party registration. I will further elaborate on relevant variables in the wrangling section.
   
In the Voter History files, the unit of observation here is a single ballot cast, and all variables are initially coded as character strings. This means that for each voter registered--and so included in the VRF--the history file should contain an observation for each time they voted. This file includes two types of data: first, identifiers for the election like county, date, description, and type; second, identifiers for the individual vote including voter ID and voting method.
  
## Wrangling the Data
   
The process of "wrangling" refers to manipulating the data into a form that can then be used fo graphing, exploratory data analysis, modelling, or presentation. In this case, wrangling also included aggregating data across multiple sources and datasets. For this purpose, I made heavy use of the tidyverse R package, and in particular the dplyr package. In this section I will go through some of the key problems encountered during the wrangling of these data, and then discuss the final form each variable takes.

### Initial Problems with the 2017 Voter File and Solution
   
The first major issue I encountered--which merits discussion in its own section--derives from the aforementioned fact that the voter records I had access to are "snapshots". What this means, is that for each person in each year of voter registration files, I will have their corresponding history files for all ballots they have cast in Colorado, but not their own history of registration and migration. If, say, a voter moved from Boulder County to Summit County, I would have their votes in Boulder County show up in the voter history file, but them being registered in Summit. If you recall the turnout calculations specified earlier on, this implies an overestimation when looking back at elections that happened some time before the date of the "snapshot". Additionally, "snapshots" of current voter files do not reflect voters dropping off the rolls for whatever reason--death, moving out of the state, long term inactivity, non-confirmable personal data etc. Since for these voters the history files would also not be included, the issue created is less one of overestimation of turnout like before, but just the inclusion of additional room for error that is created when subtracting one from the denominator and enumerator of turnout.   
   
This was a significant problem from the beginning of this thesis, since I started out with only one "snapshot" from 2017. After going through turnout calculations, a significant majority of counties appeared to have turnout exceeding 100%, particularly for years between 2000 and 2012. This was, to put it mildly, concerning. With the help of my advisers, I was able to procure similar "snapshots" for each year between 2012-2016. After similar calculations, I returned figure 3.4 for the eight most populous counties as described above, including different shapes for election type, colors for county, and a vertical line at 2013 to signify the latest major change in how Colorado administers elections.

```{r big eight turnout plot, echo=FALSE, fig.cap="Turnout plot for eight largest Colorado counties, 2012-2016", out.width = '60%', fig.align='center'}
knitr::include_graphics("/Users/tdounias/Desktop/Reed_Senior_Thesis/plots/colorado_bigeight_turnout_graph.png")
```
   
To also further illustrate the in-county migration and dropped voter problem, I created a graph that includes logged total counts of registered voters calculated using the 2017 and the 2012-2016 files. The plot also includes a line at y=x. If in-Colorado migration and dropped voters are not an issue, most points on this graph should be at this line. 
   
```{r county migration A, echo=FALSE, fig.cap="Comparison of registration count methods", out.width = '60%', fig.align='center'}
knitr::include_graphics("/Users/tdounias/Desktop/Reed_Senior_Thesis/plots/county_migration_A.png")
```
   
Two things should be clear from figure 3.5. First, there is significant deviation between the counts using just the 2017 file and all files across years. Specifically, the 2017 count consistently underestimates the total amount of registered voters--this is shown by the red linear model smoothing line. This consistent difference confirms the hypothesis that there is a substantial benefit to using "snapshots" for multiple years. Second, counts get more accurate the closer to 2017 we get. This should be even more apparent in figure 3.6, which limits the scale to only some high registration counties, and adds a shape indicator for county.

```{r county migration B, echo=FALSE, fig.cap="Comparison of registration count methods only for a few counties, 2012-2016", out.width = '60%', fig.align='center'}
knitr::include_graphics("/Users/tdounias/Desktop/Reed_Senior_Thesis/plots/county_migration_B.png")
```
   
Here the structure of the data becomes clear: for each county, there are a series of almost vertically distributed points, which get closer to the y = x line the closer the counts get to 2017. Through this series of tests, it became clear that using multiple years of data was necessary in order to conduct an accurate test of my hypotheses. My selection was later vindicated, when looking at comparisons between reported rates of turnout^[Turnout is calculated over all registered voters] and turnout calculated through my dataset for the 2014 midterm election (se fig. 3.7).

```{r comp turnout 2014, echo=FALSE, fig.cap="Comparison of reported and calculated turnout for 2014 midterms across county", out.width = '60%', fig.align='center'}
knitr::include_graphics("/Users/tdounias/Desktop/Reed_Senior_Thesis/plots/Calc_vs_rep_turnout.png")
```
  
The differences are insignificant. They exist because of "noise" added on because of errors in the data, misreporting, private voter registration files, voters dropped before the "snapshot" occured, and other similar factors.  
   
### Other Wrangling Issues Faced

Suffice to say, wrangling data was the majority of the work that went into this thesis. Doing a full account would probably read like the world's most cliche crime novel: a series of elusive final datasets, a plucky yet occassionally naive young detective, two wisened mentors, clues, dead ends, frustration, compromise, and...spreadsheets. I will spare the reader the whole story, but I will include a non-comprehensive list of some of the difficulties associated with wrangling voter files, as it was a crucial part of the learning process I underwent while doing my research.
  
**Missing Values**: The decision on how to deal with missing values--or NAs--in a dataset is a lot more important than it may initially seem. A first, intuitive reaction might be to just disregard them; however this works under the assumption that there is no structure inherent to why these data are missing! To give just two examples, in the data I have collected, the PARTY value for the 2015 voter registration file is missing. If I excluded all observations with missing PARTY values, I would be excluding a fifth of my data. Missing values were also present in the VOTING_METHOD variable of the voter history files. While this may have seemed troubling, after closer examination it was revealed that the vast majority of such missing values was concentrated in Jefferson County, and in elections prior to 2002. Therefore, these observations could be ignored, since they played no role in my final dataset. The conclusion should be that choices made on exclusion, inclusion, or estimation of missing data are very important, and should be taken with much care and consideration for the underlying structure of the data.
   
**Data Input Errors**: Is "Greece" a legitimate voting method? Probably not. However, "Greece" did show up as a value in the VOTING_METHOD variable for my 2012 voter history file snapshot. This may have occured for a series of reasons, like data reading issues--the data I acquired had changed hands some times, and also changed platforms between STATA and R--or issues at time of input--each county counts votes individually, and *then* the state aggregates the data--, or some bug in my code. Having adequately checked for the later of these reasons, I treated all values that seemed more likelly than not to be errors as NAs. There were not many of these--less than .001% of my data--but they were a hassle to find, analyze, and then recode into some useful value.  
  
**Data Size**: Nothing to write home about here, just an observation that multiple voter registration files can be *huge*, which puts considerable strain on a computer's processing power. This means that wrangling has to comprise of a series of careful, deliberate moves. Brute force should be discouraged, as a dead end means several hours of melodic computer fan panic.  
  
**Joining, Merging, Spreading, and the Multiplicity of Levels**: For the data to end up in any functional shape, it eventually becomes necessary to start joining datasets. Thankfully, a clear division of modelling tasks between county and individual level models means that joining on COUNTY or VOTER_ID is ideal, and fairly straightforward. As will become clear in later sections, I also had to consider the variety of different units of observation, specifically: county, individual, ballot, election, county-by-election.  

### Final Variable Specifications
   
After the conclusion of the wrangling process, the resulting dataset included a series of discrete and continuous variables. I will briefly outline them here, along with their range and values.

* VOTER_ID: Discrete variable, unique value given to each individual voter. Useful for merging.
* COUNTY: Discrete variable, the 64 counties of Colorado.
* REGISTRATION_DATE: Discrete variable, date of registration for each registrant. Useful to get total registrants on election day.
* TURNOUT: Continuous variable, in the range [0,1]. The response variable for my county-level models.
* ELECTION_TYPE: Discrete variable, the four types of elections: Primary, Coordinated, Midterm, Presidential.
* ELECTION_DATE: Discrete variable, self-explanatory.
* VBM_PCT: Continuous variable, in the range [0,1]. This is the focus of my analysis, as it counts the percentage of total ballots that were mail ballots.
* PCT_WHITE: Continuous variable, in the range [0,1]. Percentage of white residents per county.
* PCT_URBAN: Continuous variable, in the range [0,1]. Percentage of urban residents per county.
* PARTY: Discrete variable. For each voter, the party they are registered with. Can be: Republican, Democrat, Other, or Unaffiliated.
* GENDER: Discrete binary variable, Male or Female.
* AGE: The age of the individual registrant.
* VOTING_METHOD: The method used by an individual voter to cast their ballot. Is coded as either VBM or In Person, according to Table 3.4:

--------------------------------------------------------------------------------------------------------------------------
  Voting Method                   Description of Method                                                 Final Designation  
----------------- ---------------------------------------------------------------------------------- --------------------- 
  Absentee Carry      Voters who carried an absentee ballot with them from an early voting location       VBM                
  
  Absentee Mail       Voters who were sent an absentee ballot, and mailed it in                           VBM                
  
  Early Voting        Voters who physically went to an Early Voting location and voted                    In Person          
  
  In Person           Voters who physically went to a polling place and voted on paper                    In Person          
  
  Mail Ballot         Vote By Mail                                                                        VBM                
  
  Polling Place       Traditional polling place voting, discontinued in 2013                              In Person          
  
  Vote Center         Voters who cast their ballots at Vote Centers                                       In Person          
----------------- ---------------------------------------------------------------------------------- ---------------------
Table: Voting method designation table \label{tab:voting_method}